{
  "pluginType": "DB",
  "pluginId": "postgres-plugin",
  "unpublishedAction": {
    "name": "Get_TimeIn_Timeout",
    "datasource": {
      "name": "OT-1",
      "pluginId": "postgres-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "OT-1",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Labor Tracking",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "SELECT DISTINCT ON (userid)  \n       userid,\n       fullname AS \"Name\", \n       jobcodeid,\n       jobcode AS \"Task\",  \n       TO_CHAR((elapsed_seconds || ' second')::interval, 'HH24:MI:SS') AS \"Task Duration\",\n       TO_CHAR((SELECT MIN(starttime)::TIMESTAMP \n                FROM public.view_timesheets vts \n                WHERE vts.userid = sub.userid \n\t\t\t\t\t\t\t\tAND vts.starttime::date = CURRENT_DATE), 'HH:MI AM') AS \"Today Clock In Time\",    \n       TO_CHAR(total_elapsed, 'HH24:MI:SS') AS \"Total Duration Today\",  \n       CASE \n           WHEN (endtime IS NULL OR endtime = '') AND total_elapsed > INTERVAL '8 hours' \n               THEN 'Clocked in - Daily Overtime Alert'\n           WHEN (endtime IS NULL OR endtime = '') \n               THEN 'Clocked in'\n           ELSE 'Clocked out time - ' || TO_CHAR(endtime::TIMESTAMP, 'HH24:MI:SS')\n       END AS \"On the Clock\"\nFROM (\n    SELECT userid, \n           fullname, \n           jobcodeid,\n           jobcode,\n           elapsed_seconds,  \n           starttime, \n           endtime,  \n           SUM(elapsed_seconds * INTERVAL '1 second') OVER (PARTITION BY userid) AS total_elapsed,\n           RANK() OVER (PARTITION BY userid ORDER BY starttime DESC) AS rank  \n    FROM public.view_timesheets\n    WHERE starttime::date = CURRENT_DATE  \n          AND jobcodeid <> '8589143'  \n) sub  \nWHERE rank = 1  \nORDER BY userid, \"Today Clock In Time\";",
      "selfReferencingDataPaths": [],
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ]
    },
    "executeOnLoad": true,
    "dynamicBindingPathList": [],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": [],
    "createdAt": "2025-02-21T16:17:48Z"
  },
  "id": "Labor Tracking_Get_TimeIn_Timeout",
  "deleted": false,
  "gitSyncId": "66ede71d9623292a253e949c_067118fd-6b86-4781-89b4-8dae0b390da4"
}